// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-i
/**
 * THIS SCHEMA MATCHES THE ORIGINAL SITE
 */

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}  

model Address {
  id           String   @id @default(uuid()) @db.VarChar(36)
  address1     String?  @db.VarChar(255)
  address2     String?  @db.VarChar(255)
  city         String?  @db.VarChar(255)
  stateId      String?  @map("state_id") @db.VarChar(36)
  state        State?   @relation(fields: [stateId], references: [id])
  zip          String?  @db.VarChar(20)
  zipExtension String?  @map("zip_extension") @db.VarChar(10)
  entityId     String?  @map("entity_id") @db.VarChar(36)
  entity       Entity?  @relation(fields: [entityId], references: [id])
  countryId    String?  @map("country_id") @db.VarChar(36)
  country      Country? @relation(fields: [countryId], references: [id])

  @@map("address")
}

model ClientProductPitch {
  id                   String   @id @default(uuid()) @db.VarChar(36)
  personEntityId       String   @map("person_entity_id") @db.VarChar(36)
  personEntity         Entity   @relation("person_entity", fields: [personEntityId], references: [id])
  productEntityId      String   @map("product_entity_id") @db.VarChar(36)
  productEntity        Entity   @relation("product_entity", fields: [productEntityId], references: [id])
  pitchDate            DateTime? @map("pitch_date")
  pitchPrice           String?      @map("pitch_price")
  note                 String?  @db.Text
  organizationEntityId String?   @map("organization_entity_id") @db.VarChar(36)
  organizationEntity   Entity?   @relation("organization_entity", fields: [organizationEntityId], references: [id])
  pitchedByEntityId    String?   @map("pitched_by_entity_id") @db.VarChar(36)
  pitchedByEntity      Entity?   @relation("pitched_by_entity", fields: [pitchedByEntityId], references: [id])
}

model Country {
  id          String    @id @default(uuid()) @db.VarChar(36)
  code        String    @db.VarChar(4)
  description String    @db.VarChar(100)
  addresses   Address[]
}

model DocumentStore {
  id                       String           @id @default(uuid()) @db.VarChar(36)
  documentName             String           @map("document_name") @db.VarChar(255)
  documentType             String           @map("document_type") @db.VarChar(100)
  entityId                 String           @map("entity_id") @db.VarChar(36)
  entity                   Entity           @relation("document_entity", fields: [entityId], references: [id])
  size                     String?
  createdByPersonEntityId  String           @map("created_by_person_entity_id") @db.VarChar(36)
  createdByPersonEntity    Entity           @relation("created_by_person_entity", fields: [createdByPersonEntityId], references: [id])
  createdDate              DateTime         @map("created_date")
  modifiedByPersonEntityId String           @map("modified_by_person_entity_id") @db.VarChar(36)
  modifiedByPersonEntity   Entity           @relation("modified_by_person_entity", fields: [modifiedByPersonEntityId], references: [id])
  modifiedDate             DateTime         @map("modified_date")
  note                     String?          @db.Text
  reportTemplates          ReportTemplate[]
}

model DocumentType {
  id          String @id @default(uuid()) @db.VarChar(36)
  description String @db.VarChar(1000)
}

model DynamicList {
  id                 String              @id @default(uuid()) @db.VarChar(36)
  name               String              @db.VarChar(255)
  description        String              @db.VarChar(1000)
  dynamicListMembers DynamicListMember[] @relation("dynamic_list")
}

model DynamicListMember {
  id                   String      @id @default(uuid()) @db.VarChar(36)
  organizationEntityId String      @map("organization_entity_id") @db.VarChar(36)
  organizationEntity   Entity      @relation("organization_entity", fields: [organizationEntityId], references: [id])
  personEntityId       String      @map("person_entity_id") @db.VarChar(36)
  personEntity         Entity      @relation("person_entity", fields: [personEntityId], references: [id])
  dynamicListId        String      @map("dynamic_list_id") @db.VarChar(36)
  dynamicList          DynamicList @relation("dynamic_list", fields: [dynamicListId], references: [id])
}

model ElectronicAddress {
  id                      String                @id @default(uuid()) @db.VarChar(36)
  electronicAddress       String                @db.VarChar(255)
  electronicAddressTypeId String                @map("electronic_address_type_id") @db.VarChar(36)
  electronicAddressType   ElectronicAddressType @relation(fields: [electronicAddressTypeId], references: [id])
  entityId                String                @map("entity_id") @db.VarChar(36)
  entity                  Entity                @relation(fields: [entityId], references: [id])
}

model ElectronicAddressType {
  id                  String              @id @default(uuid()) @db.VarChar(36)
  description         String              @db.VarChar(100)
  electronicAddresses ElectronicAddress[]
}

model Entertainer {
  productEntityId       String    @id @map("product_entity_id") @db.VarChar(36)
  productEntity         Entity    @relation("product_entity", fields: [productEntityId], references: [id])
  leaderPersonEntityId  String?    @map("leader_person_entity_id") @db.VarChar(36)
  leaderPersonEntity    Entity?    @relation("leader_person_entity", fields: [leaderPersonEntityId], references: [id])
  bandSize              String?       @map("band_size")
  specialRequirements   String?   @map("special_requirements") @db.Text
  agentPersonEntityId   String?   @map("agent_person_entity_id") @db.VarChar(36)
  agentPersonEntity     Entity?   @relation("agent_person_entity", fields: [agentPersonEntityId], references: [id])
  bio                   String?   @db.Text
  isExclusive           Boolean?   @map("is_exclusive")
  isActive              Boolean?   @map("is_active")
  dateBusinessCardsSent DateTime? @map("date_business_cards_sent")
  numBusinessCardsSent  String?      @map("num_business_cards_sent")
}

model Entity {
  id                                      String                 @id @default(uuid()) @db.VarChar(36)
  entityTypeId                            String                 @map("entity_type_id") @db.VarChar(36)
  entityType                              EntityType             @relation("entity_type", fields: [entityTypeId], references: [id])
  createDate                              DateTime               @map("create_date")
  addresses                               Address[]
  clientProductPitchPersons               ClientProductPitch[]   @relation("person_entity")
  clientProductPitchProducts              ClientProductPitch[]   @relation("product_entity")
  clientProductPitchOrganizations         ClientProductPitch[]   @relation("organization_entity")
  clientProductPitchPitchedBy             ClientProductPitch[]   @relation("pitched_by_entity")
  documents                               DocumentStore[]        @relation("document_entity")
  documentCreatedBy                       DocumentStore[]        @relation("created_by_person_entity")
  documentsModifiedByPersons              DocumentStore[]        @relation("modified_by_person_entity")
  dynamicListOrganizations                DynamicListMember[]    @relation("organization_entity")
  dynamicListPersons                      DynamicListMember[]    @relation("person_entity")
  electronicAddresses                     ElectronicAddress[]
  entertainerProduct                      Entertainer[]          @relation("product_entity")
  entertainerLeaderPerson                 Entertainer[]          @relation("leader_person_entity")
  entertainerAgentPerson                  Entertainer[]          @relation("agent_person_entity")
  events                                  Event[]
  eventAgentPersons                       Event[]                @relation("agent_person_entity")
  eventClientOrganizationEntities         Event[]                @relation("client_organization_entity")
  eventClientPersonEntities               Event[]                @relation("client_person_entity")
  eventVenueOrganizationEntities          Event[]                @relation("venue_organization_entity")
  eventVenuePersonEntities                Event[]                @relation("venue_person_entity")
  eventBillingContactOrganizationEntities Event[]                @relation("billing_contact_organization_entity")
  eventBillingContactPersonEntities       Event[]                @relation("billing_contact_person_entity")
  eventPersons                            EventPerson[]          @relation("person_entity")
  eventPersonEvents                       EventPerson[]          @relation("event_entity")
  eventProducts                           EventProduct[]         @relation("product_entity")
  eventProductEvents                      EventProduct[]         @relation("event_entity")
  eventProductVenueOrganizations          EventProduct[]         @relation("venue_organization_entity")
  eventProductCreatedByPersons            EventProduct[]         @relation("created_by_person_entity")
  eventProductModifiedByPersons           EventProduct[]         @relation("modified_by_person_entity")
  eventProductVenuePersons                EventProduct[]         @relation("venue_person_entity")
  organizationEntity                      Organization[]
  organizationAgentPersons                Organization[]         @relation("agent_person_entity")
  organizationPersons                     OrganizationPerson[]
  organizationPersonOrganizations         OrganizationPerson[]   @relation("organization_entity")
  organizationResources                   OrganizationResource[]
  organizationTypes                       OrganizationTypes[]
  paymentsFrom                            Payment[]              @relation("from_entity")
  paymentsTo                              Payment[]              @relation("to_entity")
  paymentsEvent                           Payment[]              @relation("event_entity")
  paymentsCreatedByPersons                Payment[]              @relation("created_by_person_entity")
  paymentsModifiedByPersons               Payment[]              @relation("modified_by_person_entity")
  persons                                 Person[]
  personAgents                            Person[]               @relation("agent_person_entity")
  phones                                  Phone[]
  products                                Product[]
  productBookingContactPersons            Product[]              @relation("booking_contact_person_entity")
  productCategories                       ProductCategory[]
  reportCreatedByPersons                  Report[]               @relation("created_by_person_entity")
  reportsModifiedByPersons                Report[]               @relation("modified_by_person_entity")
  tasks                                   Task[]
  tasksCreatedByPersons                   Task[]                 @relation("created_by_person_entity")
  tasksModifiedByPersons                  Task[]                 @relation("modified_by_person_entity")
  tasksOwnerPersons                       Task[]                 @relation("owner_person_entity")
  users                                   User[]
}

model EntityType {
  id          String   @id @default(uuid()) @db.VarChar(36)
  description String   @db.VarChar(100)
  entities    Entity[] @relation("entity_type")
}

model Event {
  entityId                           String      @id @db.VarChar(36)
  entity                             Entity      @relation(fields: [entityId], references: [id])
  startDate                          DateTime?    @map("start_date")
  endDate                            DateTime?    @map("end_date")
  name                               String      @db.VarChar(255)
  agentPersonEntityId                String?     @map("agent_person_entity_id") @db.VarChar(36)
  agentPersonEntity                  Entity?     @relation("agent_person_entity", fields: [agentPersonEntityId], references: [id])
  eventTypeId                        String?      @map("event_type_id") @db.VarChar(36)
  eventType                          EventType?   @relation(fields: [eventTypeId], references: [id])
  contractSentDate                   DateTime?   @map("contract_sent_date")
  contractReturnedDate               DateTime?   @map("contract_returned_date")
  budget                             String?
  note                               String?     @db.Text
  eventStatusId                      String?      @map("event_status_id") @db.VarChar(36)
  eventStatus                        EventStatus? @relation(fields: [eventStatusId], references: [id])
  attendance                         String?
  eventForm                          EventForm?  @map("event_form")
  location                           String?     @db.VarChar(255)
  clientOrganizationEntityId         String?     @map("client_organization_entity_id") @db.VarChar(36)
  clientOrganizationEntity           Entity?     @relation("client_organization_entity", fields: [clientOrganizationEntityId], references: [id])
  clientPersonEntityId               String?     @map("client_person_entity_id") @db.VarChar(36)
  clientPersonEntity                 Entity?     @relation("client_person_entity", fields: [clientPersonEntityId], references: [id])
  guestArrivalTime                   String?     @map("guest_arrival_time")
  reportTo                           String?     @db.VarChar(255)
  breakArea                          String?     @map("break_area") @db.VarChar(255)
  equipmentStorage                   String?     @map("equipment_storage") @db.VarChar(255)
  venueOrganizationEntityId          String?     @map("venue_organization_entity_id") @db.VarChar(36)
  venueOrganizationEntity            Entity?     @relation("venue_organization_entity", fields: [venueOrganizationEntityId], references: [id])
  venuePersonEntityId                String?     @map("venue_person_entity_id") @db.VarChar(36)
  venuePersonEntity                  Entity?     @relation("venue_person_entity", fields: [venuePersonEntityId], references: [id])
  billingContactOrganizationEntityId String?     @map("billing_contact_organization_entity_id") @db.VarChar(36)
  billingContactOrganizationEntity   Entity?     @relation("billing_contact_organization_entity", fields: [billingContactOrganizationEntityId], references: [id])
  billingContactPersonEntityId       String?     @map("billing_contact_person_entity_id") @db.VarChar(36)
  billingContactPersonEntity         Entity?     @relation("billing_contact_person_entity", fields: [billingContactPersonEntityId], references: [id])
  startTime                          String?     @map("start_time")
  endTime                            String?     @map("end_time")
}

enum EventForm {
  YES
  NO
  N_A
}

model EventPerson {
  id             String @id @default(uuid()) @db.VarChar(36)
  eventEntityId  String @map("event_entity_id") @db.VarChar(36)
  eventEntity    Entity @relation("event_entity", fields: [eventEntityId], references: [id])
  personEntityId String @map("person_entity_id") @db.VarChar(36)
  personEntity   Entity @relation("person_entity", fields: [personEntityId], references: [id])
}

model EventProduct {
  id                          String                @id @default(uuid()) @db.VarChar(36)
  productEntityId             String                @map("product_entity_id") @db.VarChar(36)
  productEntity               Entity                @relation("product_entity", fields: [productEntityId], references: [id])
  eventEntityId               String                @map("event_entity_id") @db.VarChar(36)
  eventEntity                 Entity                @relation("event_entity", fields: [eventEntityId], references: [id])
  venueOrganizationEntityId   String?               @map("venue_organization_entity_id") @db.VarChar(36)
  venueOrganizationEntity     Entity?               @relation("venue_organization_entity", fields: [venueOrganizationEntityId], references: [id])
  venueOrganizationResourceId String?               @map("venue_organization_resource_id") @db.VarChar(36)
  venueOrganizationResource   OrganizationResource? @relation(fields: [venueOrganizationResourceId], references: [id])
  startDate                   DateTime?             @map("start_date")
  endDate                     DateTime?             @map("end_date")
  grossPrice                  String?               @map("gross_price")
  feePercent                  String?               @map("fee_percent")
  contractSentDate            DateTime?             @map("contract_sent_date")
  contractReturnedDate        DateTime?             @map("contract_returned_date")
  specialInstructions         String?               @map("special_instructions") @db.Text
  setupBy                     String?               @map("setup_by") @db.Text
  clientProvides              String?               @map("client_provides") @db.Text
  productStatusId             String                @map("product_status_id") @db.VarChar(36)
  productStatus               ProductStatus         @relation(fields: [productStatusId], references: [id])
  note                        String?               @db.Text
  createdByPersonEntityId     String?               @map("created_by_person_entity_id") @db.VarChar(36)
  createdByPersonEntity       Entity?               @relation("created_by_person_entity", fields: [createdByPersonEntityId], references: [id])
  createdDate                 DateTime?             @map("created_date")
  modifiedByPersonEntityId    String?               @map("modified_by_person_entity_id") @db.VarChar(36)
  modifiedByPersonEntity      Entity?               @relation("modified_by_person_entity", fields: [modifiedByPersonEntityId], references: [id])
  modifiedDate                DateTime?             @map("modified_date")
  bandSize                    String?               @map("band_size")
  contractedToProvide         String?               @map("contracted_to_provide") @db.Text
  deposit                     String?
  paymentTerms                String?               @map("payment_terms") @db.Text
  attire                      String?               @db.Text
  location                    String?               @db.VarChar(255)
  venuePersonEntityId         String?               @map("venue_person_entity_id") @db.VarChar(36)
  venuePersonEntity           Entity?               @relation("venue_person_entity", fields: [venuePersonEntityId], references: [id])
}

model EventStatus {
  id          String  @id @default(uuid()) @db.VarChar(36)
  description String  @db.VarChar(100)
  events      Event[]
}

model EventType {
  id          String  @id @default(uuid()) @db.VarChar(36)
  description String  @db.VarChar(100)
  events      Event[]
}

model Organization {
  entityId            String  @id @db.VarChar(36)
  entity              Entity  @relation(fields: [entityId], references: [id])
  name                String  @db.VarChar(255)
  note                String? @db.Text
  agentPersonEntityId String? @map("agent_person_entity_id") @db.VarChar(36)
  agentPersonEntity   Entity? @relation("agent_person_entity", fields: [agentPersonEntityId], references: [id])
  referredBy          String? @map("referred_by") @db.VarChar(255)
}

model OrganizationPerson {
  organizationEntityId String    @map("organization_entity_id") @db.VarChar(36)
  organizationEntity   Entity    @relation("organization_entity", fields: [organizationEntityId], references: [id])
  personEntityId       String    @map("person_entity_id") @db.VarChar(36)
  personEntity         Entity    @relation(fields: [personEntityId], references: [id])
  effectiveDate        DateTime  @map("effective_date")
  expirationDate       DateTime? @map("expiration_date")
  isPrimary            Boolean   @map("is_primary")
  id                   String    @id @default(uuid()) @db.VarChar(36)
  note                 String?   @db.Text
}

model OrganizationResource {
  id                   String         @id @default(uuid()) @db.VarChar(36)
  name                 String         @db.VarChar(255)
  organizationEntityId String         @map("organization_entity_id") @db.VarChar(36)
  organizationEntity   Entity         @relation(fields: [organizationEntityId], references: [id])
  eventProducts        EventProduct[]
}

model OrganizationType {
  id                String              @id @default(uuid()) @db.VarChar(36)
  description       String              @db.VarChar(100)
  organizationTypes OrganizationTypes[]
}

model OrganizationTypes {
  id                   String           @id @default(uuid()) @db.VarChar(36)
  organizationEntityId String           @map("organization_entity_id") @db.VarChar(36)
  organizationEntity   Entity           @relation(fields: [organizationEntityId], references: [id])
  organizationTypeId   String           @map("organization_type_id") @db.VarChar(36)
  organizationType     OrganizationType @relation(fields: [organizationTypeId], references: [id])
}

model Payment {
  id                       String      @id @default(uuid()) @db.VarChar(36)
  fromEntityId             String      @map("from_entity_id") @db.VarChar(36)
  fromEntity               Entity      @relation("from_entity", fields: [fromEntityId], references: [id])
  toEntityId               String      @map("to_entity_id") @db.VarChar(36)
  toEntity                 Entity      @relation("to_entity", fields: [toEntityId], references: [id])
  paymentDate              DateTime    @map("payment_date")
  amount                   String?
  paymentTypeId            String      @map("payment_type_id") @db.VarChar(36)
  paymentType              PaymentType @relation(fields: [paymentTypeId], references: [id])
  eventEntityId            String      @map("event_entity_id") @db.VarChar(36)
  eventEntity              Entity      @relation("event_entity", fields: [eventEntityId], references: [id])
  referenceNumber          String?     @map("reference_number") @db.VarChar(100)
  createdByPersonEntityId  String      @map("created_by_person_entity_id") @db.VarChar(36)
  createdByPersonEntity    Entity      @relation("created_by_person_entity", fields: [createdByPersonEntityId], references: [id])
  createdDate              DateTime    @map("created_date")
  modifiedByPersonEntityId String      @map("modified_by_person_entity_id") @db.VarChar(36)
  modifiedByPersonEntity   Entity      @relation("modified_by_person_entity", fields: [modifiedByPersonEntityId], references: [id])
  modifiedDate             DateTime    @map("modified_date")
  note                     String?     @db.Text
  caeFee                   String?        @map("cae_fee")
}

model PaymentType {
  id          String    @id @default(uuid()) @db.VarChar(36)
  description String    @db.VarChar(100)
  payments    Payment[]
}

model Person {
  entityId            String  @id @db.VarChar(36)
  entity              Entity  @relation(fields: [entityId], references: [id])
  firstName           String? @map("first_name") @db.VarChar(100)
  lastName            String? @map("last_name") @db.VarChar(100)
  titleId             String? @map("title_id") @db.VarChar(36)
  title               Title?  @relation(fields: [titleId], references: [id])
  note                String? @db.Text
  agentPersonEntityId String? @map("agent_person_entity_id") @db.VarChar(36)
  agentPersonEntity   Entity? @relation("agent_person_entity", fields: [agentPersonEntityId], references: [id])
  referredBy          String? @map("referred_by") @db.VarChar(255)
  jobTitle            String? @map("job_title") @db.VarChar(100)
  roleId              String? @map("role_id") @db.VarChar(36)
  role                Role?   @relation(fields: [roleId], references: [id])
}

model Phone {
  id          String    @id @default(uuid()) @db.VarChar(36)
  phoneNumber String    @map("phone_number") @db.VarChar(50)
  phoneTypeId String    @map("phone_type_id") @db.VarChar(36)
  phoneType   PhoneType @relation(fields: [phoneTypeId], references: [id])
  entityId    String    @map("entity_id") @db.VarChar(36)
  entity      Entity    @relation(fields: [entityId], references: [id])
}

model PhoneType {
  id          String  @id @default(uuid()) @db.VarChar(36)
  description String  @db.VarChar(100)
  phones      Phone[]
}

model Product {
  entityId                     String      @id @db.VarChar(36)
  entity                       Entity      @relation(fields: [entityId], references: [id])
  name                         String      @db.VarChar(255)
  description                  String?     @db.Text
  productTypeId                String      @map("product_type_id") @db.VarChar(36)
  productType                  ProductType @relation(fields: [productTypeId], references: [id])
  grossPrice                   String?     @map("gross_price")
  feePercent                   String?     @map("fee_percent")
  bookingContactPersonEntityId String?     @map("booking_contact_person_entity_id") @db.VarChar(36)
  bookingContactPersonEntity   Entity?     @relation("booking_contact_person_entity", fields: [bookingContactPersonEntityId], references: [id])
  note                         String?     @db.Text
  available                    Boolean     @db.Boolean
}

model ProductCategory {
  entityId              String              @id @db.VarChar(36)
  entity                Entity              @relation(fields: [entityId], references: [id])
  productTypeCategoryId String              @map("product_type_category_id") @db.VarChar(36)
  productTypeCategory   ProductTypeCategory @relation(fields: [productTypeCategoryId], references: [id])
}

model ProductStatus {
  id           String         @id @default(uuid()) @db.VarChar(36)
  description  String         @db.VarChar(100)
  sortPriority String?            @map("sort_priority")
  products     EventProduct[]
}

model ProductType {
  id                    String                @id @default(uuid()) @db.VarChar(36)
  description           String                @db.VarChar(100)
  products              Product[]
  productTypeCategories ProductTypeCategory[]
}

model ProductTypeCategory {
  id                String            @id @default(uuid()) @db.VarChar(36)
  productTypeId     String            @map("product_type_id") @db.VarChar(36)
  productType       ProductType       @relation(fields: [productTypeId], references: [id])
  description       String            @db.VarChar(100)
  sortPriority      String?               @map("sort_priority")
  productCategories ProductCategory[]
}

model Report {
  id                       String           @id @default(uuid()) @db.VarChar(36)
  key                      String           @db.VarChar(100)
  name                     String           @db.VarChar(255)
  type                     ReportType       @map("report_type")
  query                    String           @db.Text
  reportTemplateId         String           @map("report_template_id") @db.VarChar(36)
  //reportTemplate   ReportTemplate @relation(fields: [reportTemplateId], references: [id])
  visible                  Boolean          @db.Boolean
  createdByPersonEntityId  String           @map("created_by_person_entity_id") @db.VarChar(36)
  createdByPersonEntity    Entity           @relation("created_by_person_entity", fields: [createdByPersonEntityId], references: [id])
  createdDate              DateTime         @map("created_date")
  modifiedByPersonEntityId String           @map("modified_by_person_entity_id") @db.VarChar(36)
  modifiedByPersonEntity   Entity           @relation("modified_by_person_entity", fields: [modifiedByPersonEntityId], references: [id])
  modifiedDate             DateTime         @map("modified_date")
  parameterPageOverride    String?          @map("parameter_page_override") @db.Text
  reportTemplates          ReportTemplate[]
}

model ReportTemplate {
  documentStoreId String        @id @map("document_store_id") @db.VarChar(36)
  documentStore   DocumentStore @relation(fields: [documentStoreId], references: [id])
  reportId        String        @map("report_id") @db.VarChar(36)
  report          Report        @relation(fields: [reportId], references: [id])
}

enum ReportType {
  GENERAL
  EVENT
}

model Role {
  id          String @id @default(uuid()) @db.VarChar(36)
  description String @db.VarChar(100)
  users       User[]
  persons     Person[]
}

model State {
  id          String    @id @default(uuid()) @db.VarChar(36)
  code        String    @db.VarChar(4)
  description String    @db.VarChar(100)
  addresses   Address[]
}

model Task {
  id                       String    @id @default(uuid()) @db.VarChar(36)
  taskDate                 DateTime  @map("task_date")
  note                     String?   @db.Text
  entityId                 String    @map("entity_id") @db.VarChar(36)
  entity                   Entity    @relation(fields: [entityId], references: [id])
  createdByPersonEntityId  String    @map("created_by_person_entity_id") @db.VarChar(36)
  createdByPersonEntity    Entity    @relation("created_by_person_entity", fields: [createdByPersonEntityId], references: [id])
  createdDate              DateTime  @map("created_date")
  modifiedByPersonEntityId String?   @map("modified_by_person_entity_id") @db.VarChar(36)
  modifiedByPersonEntity   Entity?   @relation("modified_by_person_entity", fields: [modifiedByPersonEntityId], references: [id])
  modifiedDate             DateTime? @map("modified_date")
  completed                Boolean?  @db.Boolean
  ownerPersonEntityId      String?   @map("owner_person_entity_id") @db.VarChar(36)
  ownerPersonEntity        Entity?   @relation("owner_person_entity", fields: [ownerPersonEntityId], references: [id])
}

model Title {
  id          String   @id @default(uuid()) @db.VarChar(36)
  description String   @db.VarChar(100)
  persons     Person[]
}

model User {
  personEntityId String  @id @map("person_entity_id") @db.VarChar(36)
  personEntity   Entity  @relation(fields: [personEntityId], references: [id])
  username       String  @db.VarChar(100)
  passwordHash   String  @map("password_hash") @db.VarChar(255)
  enabled        Boolean @db.Boolean
  roleId         String  @map("role_id") @db.VarChar(36)
  role           Role    @relation(fields: [roleId], references: [id])
}